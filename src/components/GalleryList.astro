---
import { Image } from 'astro:assets';

const galleryList = [
    {
        id: '1',
        title: 'Kurosaki Ichigo',
        date: '09 Mar 2023',
        tool: 'Figma',
    },
    {
        id: '2',
        title: 'Eren Yeager',
        date: '07 Apr 2023',
        tool: 'Figma',
    },
    {
        id: '3',
        title: 'Gwen Stacy',
        date: '11 Jun 2023',
        tool: 'Figma',
    },
    {
        id: '4',
        title: 'Miles Morales',
        date: '13 Jun 2023',
        tool: 'Figma',
    },
    {
        id: '5',
        title: 'Ghost',
        date: '29 Jun 2023',
        tool: 'Figma',
    },
    {
        id: '6',
        title: 'Hirako Shinji',
        date: '01 Aug 2023',
        tool: 'Alight Motion',
    },
    {
        id: '7',
        title: 'Shinobu Kocho',
        date: '02 Aug 2023',
        tool: 'Alight Motion',
    },
    {
        id: '8',
        title: 'Yamamoto Genryuusai',
        date: '03 Aug 2023',
        tool: 'Alight Motion',
    },
];

const gallery = Astro.url.pathname === '/' ? galleryList.slice(0, 8) : galleryList;
---

{
    gallery.map(({ id, title, date, tool }) => (
        <div class="relative w-60 md:w-full flex-shrink-0 md:flex-shrink rounded-md overflow-hidden group">
            <Image
                id={id}
                src={`/images/gallery/${id}.webp`}
                alt={title}
                width={240}
                height={240}
                loading="lazy"
                decoding="async"
                format="webp"
                draggable="false"
                class="w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"
            />
            <div class="absolute inset-0 p-4 opacity-0 group-hover:opacity-100 backdrop-blur-md bg-black/60 transition-opacity duration-300 rounded-md">
                <div class="flex flex-col justify-between h-full">
                    <div class="flex items-center justify-between">
                        <div class="-space-y-0.5">
                            <h4 class="text-gradient text-sm">{title}</h4>
                            <p class="text-gradient-secondary text-[0.65rem]">{date}</p>
                        </div>
                        <Image
                            src={`/icons/${tool.replace(' ', '').toLowerCase()}.svg`}
                            alt={tool}
                            width={24}
                            height={24}
                            loading="lazy"
                            decoding="async"
                            format="svg"
                            draggable="false"
                            class="w-5 h-5 select-none"
                        />
                    </div>
                    <div class="flex items-end justify-between">
                        <div class="w-full flex items-center justify-between">
                            <a
                                href={`/images/gallery/${id}.webp`}
                                download={`${id}.webp`}
                                class="text-gradient text-sm hover:-translate-y-1 transition-transform duration-300"
                            >
                                Download
                            </a>
                            <button
                                id="modal-btn"
                                design-id={id}
                                design-title={title}
                                class="text-gradient text-sm hover:-translate-y-1 transition-transform duration-300"
                            >
                                Expand
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    ))
}
